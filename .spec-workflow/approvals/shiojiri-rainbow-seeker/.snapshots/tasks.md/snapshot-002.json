{
  "id": "snapshot_1768949282303_6x2moqg9i",
  "approvalId": "approval_1768937258349_q6s6vkym6",
  "approvalTitle": "塩尻レインボーシーカー タスク分解書",
  "version": 2,
  "timestamp": "2026-01-20T22:48:02.303Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# タスク分解書\n\n## 依存関係グラフ\n\n```mermaid\ngraph TD\n    subgraph \"Phase 1: 基盤構築\"\n        T1[1. Rails API作成] --> T2[2. PostGIS設定]\n        T2 --> T3[3. Gem設定]\n        T3 --> T4[4. CORS設定]\n        T4 --> T5[5. エラーハンドリング]\n        T3 --> T6[6. Solid Queue/Cache]\n        T6 --> T7[7. DBマイグレーション]\n        T7 --> T8[8. モデル実装]\n    end\n\n    subgraph \"Phase 2: 認証\"\n        T8 --> T9[9. Devise設定]\n        T9 --> T10[10. AuthService]\n        T10 --> T11[11. AuthController]\n        T11 --> T12[12. 認証テスト]\n    end\n\n    subgraph \"Phase 3: 写真管理\"\n        T9 --> T13[13. Active Storage]\n        T13 --> T14[14. PhotoService]\n        T14 --> T15[15. ImageProcessingJob]\n        T15 --> T16[16. PhotosController]\n        T16 --> T17[17. 写真テスト]\n    end\n\n    subgraph \"Phase 4: 気象データ\"\n        T14 --> T18[18. WeatherAPI連携]\n        T18 --> T19[19. WeatherService]\n        T19 --> T20[20. WeatherFetchJob]\n    end\n\n    subgraph \"Mobile\"\n        M1[M1. RN初期設定] --> M2[M2. 認証画面]\n        T11 --> M2\n        M2 --> M3[M3. カメラ画面]\n    end\n```\n\n---\n\n## フェーズ1: プロジェクト基盤構築\n\n- [ ] 1. Ruby on Rails 8 APIプロジェクト作成\n  - File: backend/\n  - Rails 8をAPIモードで新規プロジェクト作成\n  - `rails new backend --api --database=postgresql` を実行\n  - Purpose: バックエンドAPIの基盤を構築\n  - _Leverage: なし（新規プロジェクト）_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: Rails 8をAPIモードで新規プロジェクト作成 | Restrictions: Ruby 3.2以上、Rails 8.0以上を使用 | Success: rails serverでサーバーが起動しhttp://localhost:3000にアクセスできる_\n\n- [ ] 2. PostgreSQL + PostGIS設定\n  - File: backend/config/database.yml, backend/db/migrate/xxxx_enable_postgis.rb\n  - PostgreSQLの設定とPostGIS拡張の有効化\n  - enable_extension 'postgis'とenable_extension 'pgcrypto'を追加\n  - Purpose: 地理空間データベース機能の有効化\n  - _Leverage: Task 1_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: データベースエンジニア | Task: database.ymlを設定し、PostGIS拡張を有効化するマイグレーションを作成 | Restrictions: PostgreSQL 14以上、PostGIS 3.0以上 | Success: rails db:createが成功し、SELECT PostGIS_Version()が結果を返す_\n\n- [ ] 3. 必要なGemのインストールと設定\n  - File: backend/Gemfile\n  - 認証、ファイルアップロード、地理空間、シリアライザ等のGemをインストール\n  - devise, devise-jwt, activerecord-postgis-adapter, rgeo, alba, pundit, kaminari, rack-cors等\n  - Purpose: 必要なライブラリの準備\n  - _Leverage: Task 2_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: Gemfileに必要なgemを追加してbundle install | Restrictions: 最新の安定版を使用 | Success: すべてのGemがインストールされエラーなく読み込める_\n\n- [ ] 4. CORS設定\n  - File: backend/config/initializers/cors.rb\n  - クロスオリジンリクエストの許可設定\n  - 開発環境では全オリジンを許可、本番環境では特定ドメインのみ許可\n  - Purpose: モバイルアプリからのAPI通信を許可\n  - _Leverage: rack-cors gem_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: rack-corsを設定 | Restrictions: 本番環境では厳格なオリジン制限 | Success: curlでCORSヘッダーが返る_\n\n- [ ] 5. 共通エラーハンドリング基盤\n  - File: backend/app/controllers/application_controller.rb, backend/app/controllers/concerns/error_handler.rb\n  - ApplicationControllerでの統一エラーハンドリング実装\n  - エラーコード1000-5999の体系に従う\n  - Purpose: 一貫したエラーレスポンス形式\n  - _Leverage: 設計書のエラーコード体系_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: ErrorHandler concernを作成し、各種例外を統一形式で処理 | Restrictions: 設計書のエラーコード体系を厳守 | Success: 存在しないリソースへのアクセスで適切なJSON形式のエラーが返る_\n\n- [ ] 6. Solid Queue・Solid Cache設定\n  - File: backend/config/queue.yml, backend/config/cache.yml\n  - Rails 8のデフォルトジョブキュー・キャッシュシステムの設定\n  - Redisは使用せずPostgreSQLベースで動作\n  - Purpose: バックグラウンドジョブとキャッシュの基盤\n  - _Leverage: Rails 8標準機能_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: Solid QueueとSolid Cacheをインストール・設定 | Restrictions: Redisは使用しない | Success: TestJob.perform_laterがキューに追加され実行される_\n\n- [ ] 7. データベースマイグレーション作成\n  - File: backend/db/migrate/\n  - 全テーブルのマイグレーションファイル作成\n  - users, jwt_denylists, photos, weather_conditions, radar_data, comments, likes, notifications, reports, device_tokens\n  - Purpose: データベーススキーマの構築\n  - _Leverage: 設計書のデータモデル定義_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: データベースエンジニア | Task: 全テーブルのマイグレーションを作成、UUID主キー、PostGIS geography型、インデックス、外部キー制約を設定 | Restrictions: 設計書のスキーマに厳密に従う | Success: rails db:migrateが成功しスキーマが設計書と一致_\n\n- [ ] 8. Active Recordモデル実装\n  - File: backend/app/models/\n  - 全モデルクラスの実装（アソシエーション、バリデーション、スコープ）\n  - User, JwtDenylist, Photo, WeatherCondition, RadarDatum, Comment, Like, Notification, Report, DeviceToken\n  - Purpose: ドメインモデル層の構築\n  - _Leverage: 設計書のデータモデル定義_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: 全モデルを作成、belongs_to/has_many関係、counter_cache、スコープ、enumを設定 | Restrictions: PostGIS対応でrgeoを使用 | Success: rails consoleで全モデルが読み込めアソシエーションが正しく動作_\n\n---\n\n## フェーズ1M: モバイルアプリ基盤構築\n\n- [ ] 8.1 React Nativeプロジェクト作成\n  - File: mobile/\n  - React Native（Expo）プロジェクトの新規作成\n  - npx create-expo-app mobile --template expo-template-blank-typescript\n  - Purpose: モバイルアプリの基盤構築\n  - _Leverage: なし（新規プロジェクト）_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: React Nativeエンジニア | Task: Expoを使用してReact Nativeプロジェクトを作成 | Restrictions: TypeScript必須、Expo SDK 50以上 | Success: iOS/Androidシミュレータでアプリが起動_\n\n- [ ] 8.2 TypeScript・Linter設定\n  - File: mobile/tsconfig.json, mobile/.eslintrc.js, mobile/.prettierrc\n  - TypeScript厳格モードとESLint/Prettier設定\n  - strict: trueを設定\n  - Purpose: コード品質の確保\n  - _Leverage: Task 8.1_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: React Nativeエンジニア | Task: tsconfig.jsonでstrict: trueを設定、ESLintとPrettierを設定 | Restrictions: 厳格な型チェック必須 | Success: npm run lint, npm run type-checkが成功_\n\n- [ ] 8.3 必要ライブラリのインストール\n  - File: mobile/package.json\n  - ナビゲーション、状態管理、API通信等のライブラリをインストール\n  - react-navigation, zustand, react-query, axios, react-native-maps, expo-camera等\n  - Purpose: 必要なライブラリの準備\n  - _Leverage: Task 8.2_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: React Nativeエンジニア | Task: 必要なライブラリをインストール | Restrictions: Expo対応バージョンを使用 | Success: すべてのライブラリがインポートできる_\n\n- [ ] 8.4 フォルダ構造とナビゲーション設定\n  - File: mobile/src/, mobile/App.tsx\n  - 設計書に基づくフォルダ構造の作成とナビゲーション基盤\n  - src/components, src/screens, src/navigation, src/services, src/hooks, src/store, src/utils, src/types, src/i18n\n  - Purpose: プロジェクト構造の整備\n  - _Leverage: 設計書のプロジェクト構造_\n  - _Requirements: 全FR共通_\n  - _Prompt: Role: React Nativeエンジニア | Task: フォルダ構造を作成し、React Navigationでナビゲーションを設定 | Restrictions: 設計書のフォルダ構造に従う | Success: ダミー画面間の遷移が動作_\n\n---\n\n## フェーズ2: 認証システム（FR-1）\n\n- [ ] 9. Devise + JWT認証設定\n  - File: backend/config/initializers/devise.rb, backend/app/models/user.rb\n  - Deviseのインストールと設定、JWT認証の設定\n  - confirmable, recoverable, jwt_authenticatableを有効化\n  - Purpose: JWT認証基盤の構築\n  - _Leverage: Task 3, Task 8_\n  - _Requirements: FR-1 (AC-1.1〜AC-1.7)_\n  - _Prompt: Role: 認証セキュリティエンジニア | Task: Devise + devise-jwtを設定、アクセストークン15分、リフレッシュトークン7日の有効期限 | Restrictions: bcrypt 12ラウンド以上 | Success: JWT発行・検証・リフレッシュが動作_\n\n- [ ] 10. AuthService実装\n  - File: backend/app/services/auth_service.rb\n  - 認証ビジネスロジックのService Object実装\n  - register, login, verify_email, refresh_token, reset_password, confirm_password_resetメソッド\n  - Purpose: 認証ビジネスロジックの分離\n  - _Leverage: Task 9_\n  - _Requirements: FR-1_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: AuthServiceクラスを実装、登録時メール認証送信、ログイン時認証失敗回数追跡（5回でロックアウト） | Restrictions: Service Objectパターン | Success: AuthService.new.register(...)が正しく動作_\n\n- [ ] 11. Api::V1::AuthController実装\n  - File: backend/app/controllers/api/v1/auth_controller.rb, backend/config/routes.rb\n  - 認証エンドポイントの実装\n  - register, login, logout, refresh, password_reset, verify_emailアクション\n  - Purpose: 認証APIエンドポイントの提供\n  - _Leverage: Task 10_\n  - _Requirements: FR-1_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: AuthControllerを実装、Strong Parametersでパラメータ検証 | Restrictions: 設計書のエンドポイント仕様に従う | Success: curlで各エンドポイントが正しく応答_\n\n- [ ] 12. 認証システムRSpecテスト\n  - File: backend/spec/models/user_spec.rb, backend/spec/services/auth_service_spec.rb, backend/spec/requests/api/v1/auth_spec.rb\n  - 認証関連のユニットテスト・リクエストスペック作成\n  - 正常系（登録、ログイン）と異常系（無効メール、パスワード不一致、ロックアウト）をカバー\n  - Purpose: 認証システムの品質保証\n  - _Leverage: RSpec, FactoryBot_\n  - _Requirements: FR-1_\n  - _Prompt: Role: QAエンジニア | Task: User モデル、AuthService、AuthControllerの包括的テストを作成 | Restrictions: カバレッジ80%以上 | Success: 全テストが通過_\n\n- [ ] 12.1 モバイルアプリ認証画面実装\n  - File: mobile/src/screens/auth/LoginScreen.tsx, mobile/src/screens/auth/RegisterScreen.tsx\n  - ログイン、登録、パスワードリセット画面の実装\n  - フォームバリデーション、ローディング状態、エラー表示\n  - Purpose: モバイル認証UIの提供\n  - _Leverage: Task 8.4_\n  - _Requirements: FR-1_\n  - _Prompt: Role: React Nativeエンジニア | Task: 認証画面を実装、Zustandで認証状態管理 | Restrictions: アクセシビリティ対応 | Success: 登録→メール認証→ログインの全フローがUIで動作_\n\n- [ ] 12.2 モバイルアプリ認証サービス・トークン管理\n  - File: mobile/src/services/authService.ts, mobile/src/services/apiClient.ts, mobile/src/store/authStore.ts\n  - APIクライアント、トークンストレージ、自動ログイン実装\n  - react-native-keychainでJWTをセキュア保存\n  - Purpose: セキュアなトークン管理\n  - _Leverage: Task 12.1_\n  - _Requirements: FR-1_\n  - _Prompt: Role: React Nativeエンジニア | Task: axiosでAPIクライアント作成、自動トークンリフレッシュ、アプリ起動時の自動ログイン | Restrictions: トークンはSecure Storage必須 | Success: アプリ再起動後も認証状態が維持_\n\n---\n\n## フェーズ3: 写真管理（FR-2, FR-3）\n\n- [ ] 13. Active Storage + S3設定\n  - File: backend/config/storage.yml, backend/config/environments/production.rb\n  - Active StorageのS3連携設定とCloudFront CDN設定\n  - 開発環境はローカルディスク、本番はS3を使用\n  - Purpose: 画像ストレージ基盤の構築\n  - _Leverage: aws-sdk-s3 gem_\n  - _Requirements: FR-2_\n  - _Prompt: Role: クラウドインフラエンジニア | Task: Active StorageをS3と連携設定 | Restrictions: 環境変数でAWSクレデンシャル管理 | Success: ファイルアップロード・取得が動作_\n\n- [ ] 14. 画像バリアント（サムネイル）設定\n  - File: backend/app/models/photo.rb\n  - image_processingによるサムネイル・画像圧縮設定\n  - サムネイル400x400、オリジナル最大2000px、JPEG品質80%\n  - Purpose: 効率的な画像配信\n  - _Leverage: Task 13, image_processing gem_\n  - _Requirements: FR-2 (AC-2.5)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: Photoモデルにhas_one_attached :imageを設定、variantでサムネイル設定 | Restrictions: ファイルサイズ2MB以下 | Success: アップロード画像からサムネイルが生成される_\n\n- [ ] 15. PhotoService実装\n  - File: backend/app/services/photo_service.rb\n  - 写真管理ビジネスロジックのService Object実装\n  - create, find_with_details, list, update, destroy, weather_dataメソッド\n  - Purpose: 写真管理ビジネスロジックの分離\n  - _Leverage: Task 14_\n  - _Requirements: FR-2, FR-3_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: PhotoServiceを実装、Active Storageアップロード、WeatherFetchJob登録 | Restrictions: N+1クエリ対策（includes使用） | Success: 写真CRUD操作が正しく動作_\n\n- [ ] 16. ImageProcessingJob実装\n  - File: backend/app/jobs/image_processing_job.rb\n  - 画像処理の非同期ジョブ実装\n  - サムネイル生成、EXIF GPSデータ抽出、JPEG最適化\n  - Purpose: 画像処理の非同期化\n  - _Leverage: Task 6, Task 14_\n  - _Requirements: FR-2_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: ImageProcessingJobを実装、Solid Queueで非同期実行 | Restrictions: 失敗時3回リトライ | Success: ジョブがキュー登録・実行される_\n\n- [ ] 17. Api::V1::PhotosController実装\n  - File: backend/app/controllers/api/v1/photos_controller.rb, backend/config/routes.rb\n  - 写真関連エンドポイントの実装\n  - index（ページネーション、フィルタ）、show、create、update、destroy、weatherアクション\n  - Purpose: 写真管理APIエンドポイントの提供\n  - _Leverage: Task 15, Kaminari, Pundit_\n  - _Requirements: FR-2, FR-3, FR-4_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: PhotosControllerを実装、Punditで認可チェック | Restrictions: 自分の写真のみ編集・削除可能 | Success: 全エンドポイントがcurlで正しく応答_\n\n- [ ] 18. PhotoSerializer実装\n  - File: backend/app/serializers/photo_serializer.rb\n  - JSON シリアライザの実装（一覧用・詳細用）\n  - id, title, thumbnail_url, location_name, like_count, created_at等\n  - Purpose: 一貫したAPIレスポンス形式\n  - _Leverage: Alba gem_\n  - _Requirements: FR-4_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: Albaを使用してPhotoSerializerを作成 | Restrictions: CDN URL使用、機密情報除外 | Success: APIレスポンスが正しい形式_\n\n- [ ] 19. 写真管理RSpecテスト\n  - File: backend/spec/services/photo_service_spec.rb, backend/spec/requests/api/v1/photos_spec.rb\n  - 写真関連のユニットテスト・リクエストスペック作成\n  - ファイルアップロード、バリデーション、ページネーション、フィルタリングをテスト\n  - Purpose: 写真管理システムの品質保証\n  - _Leverage: RSpec, FactoryBot_\n  - _Requirements: FR-2, FR-3_\n  - _Prompt: Role: QAエンジニア | Task: PhotoService、PhotosControllerの包括的テスト | Restrictions: カバレッジ80%以上 | Success: 全テストが通過_\n\n- [ ] 19.1 モバイルアプリカメラ・画像選択画面\n  - File: mobile/src/screens/CameraScreen.tsx, mobile/src/services/photoService.ts\n  - カメラ撮影、ギャラリー選択、GPS取得機能の実装\n  - expo-camera, expo-image-picker, expo-locationを使用\n  - Purpose: 写真撮影UIの提供\n  - _Leverage: expo-camera, expo-image-picker, expo-location_\n  - _Requirements: FR-2 (AC-2.1〜AC-2.4)_\n  - _Prompt: Role: React Nativeエンジニア | Task: カメラ撮影、ギャラリー選択、GPS自動取得を実装 | Restrictions: iOS/Android両対応 | Success: 撮影・選択・位置取得が動作_\n\n- [ ] 19.2 モバイルアプリ写真アップロード画面\n  - File: mobile/src/screens/PhotoUploadScreen.tsx, mobile/src/components/LocationPicker.tsx\n  - タイトル・コメント入力、手動位置選択、アップロード機能\n  - タイトル100文字、コメント500文字制限\n  - Purpose: 写真アップロードUIの提供\n  - _Leverage: Task 19.1_\n  - _Requirements: FR-2, FR-3 (AC-2.3, AC-3.1〜AC-3.3)_\n  - _Prompt: Role: React Nativeエンジニア | Task: 入力フォーム、手動位置選択、アップロードプログレス表示、オフライン時キュー保存 | Restrictions: 文字数制限のバリデーション | Success: アップロード完了後、フィードに写真が表示_\n\n---\n\n## フェーズ4: 気象条件データ（FR-13）\n\n- [ ] 20. 外部気象API連携モジュール実装\n  - File: backend/lib/external_apis/weather_api.rb\n  - OpenWeatherMap API連携モジュールの実装\n  - current_weather（現在）とhistorical_weather（過去）メソッド\n  - Purpose: 外部気象サービスとの連携\n  - _Leverage: Faraday gem_\n  - _Requirements: FR-13 (AC-13.1, AC-13.2)_\n  - _Prompt: Role: バックエンドエンジニア | Task: WeatherApiクラスを実装、Faradayでリクエスト | Restrictions: APIキーは環境変数、タイムアウト10秒 | Success: WeatherApi.new.current_weather(lat:, lng:)が正しいデータを返す_\n\n- [ ] 21. 雨雲レーダーAPI連携モジュール実装\n  - File: backend/lib/external_apis/radar_api.rb\n  - RainViewer API連携モジュールの実装\n  - 降水強度・降水エリア・移動方向をパース\n  - Purpose: 雨雲レーダーデータの取得\n  - _Leverage: Faraday gem_\n  - _Requirements: FR-13 (AC-13.2)_\n  - _Prompt: Role: バックエンドエンジニア | Task: RadarApiクラスを実装 | Restrictions: APIキーは環境変数 | Success: RadarApi.new.get_radar_data(lat:, lng:, time:)が正しいデータを返す_\n\n- [ ] 22. WeatherService実装\n  - File: backend/app/services/weather_service.rb\n  - 気象データ処理ビジネスロジックの実装\n  - fetch_current_conditions, fetch_historical_data, fetch_radar_data, calculate_sun_position, check_rainbow_conditions\n  - Purpose: 気象データ処理ビジネスロジック\n  - _Leverage: Task 20, Task 21, suncalc-ruby gem_\n  - _Requirements: FR-13_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: WeatherServiceを実装、suncalc-rubyで太陽位置計算 | Restrictions: Solid Cacheで15分キャッシュ | Success: 各メソッドが正しく動作_\n\n- [ ] 23. WeatherFetchJob実装\n  - File: backend/app/jobs/weather_fetch_job.rb\n  - 写真アップロード後の気象データ自動取得ジョブ\n  - 前後3時間（30分間隔、計13ポイント）の気象データを取得\n  - Purpose: 気象データ取得の非同期化\n  - _Leverage: Task 22, Solid Queue_\n  - _Requirements: FR-13 (AC-13.1, AC-13.7)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: WeatherFetchJobを実装、API失敗時は取得可能なデータのみ保存 | Restrictions: 失敗時3回リトライ | Success: 写真アップロード後に気象データが保存される_\n\n- [ ] 24. 気象データAPI実装\n  - File: backend/app/controllers/api/v1/photos_controller.rb\n  - 写真詳細画面での気象データ表示API（weatherアクション）\n  - 気象条件データ（時系列）と雨雲レーダーデータを返す\n  - Purpose: 気象条件データのAPI提供\n  - _Leverage: Task 17_\n  - _Requirements: FR-13 (AC-13.3, AC-13.4)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: PhotosControllerにweatherアクションを追加 | Restrictions: データがない項目はnull | Success: GET /api/v1/photos/:id/weatherで気象データが返される_\n\n- [ ] 25. 気象データシステムRSpecテスト\n  - File: backend/spec/services/weather_service_spec.rb, backend/spec/jobs/weather_fetch_job_spec.rb\n  - 気象関連のユニットテスト・ジョブテスト作成\n  - WebMockで外部APIをモック\n  - Purpose: 気象データシステムの品質保証\n  - _Leverage: RSpec, WebMock_\n  - _Requirements: FR-13_\n  - _Prompt: Role: QAエンジニア | Task: WeatherService、WeatherFetchJobの包括的テスト | Restrictions: 外部APIへの実際のリクエストは行わない | Success: 全テストが通過_\n\n---\n\n## フェーズ5: フィード・ギャラリー（FR-4）\n\n- [ ] 26. フィードAPI最適化\n  - File: backend/app/controllers/api/v1/photos_controller.rb\n  - N+1クエリ対策、キャッシュ戦略の実装\n  - includes/preload、Solid Cacheでフラグメントキャッシュ\n  - Purpose: フィードAPIのパフォーマンス向上\n  - _Leverage: Task 17, Solid Cache, bullet gem_\n  - _Requirements: FR-4 (AC-4.1, AC-4.2)_\n  - _Prompt: Role: パフォーマンスエンジニア | Task: N+1対策、キャッシュ戦略を実装 | Restrictions: レスポンス時間200ms以内 | Success: bullet警告なし、応答時間目標達成_\n\n- [ ] 27. 逆ジオコーディングモジュール実装\n  - File: backend/lib/external_apis/geocoding_api.rb\n  - GPS座標から住所を取得する機能\n  - Google Geocoding API / Mapbox Geocoding API連携\n  - Purpose: 位置名表示機能\n  - _Leverage: Faraday gem_\n  - _Requirements: FR-3 (AC-3.4)_\n  - _Prompt: Role: バックエンドエンジニア | Task: GeocodingApiクラスを実装、結果をキャッシュ（24時間） | Restrictions: APIキーは環境変数 | Success: GeocodingApi.new.reverse_geocode(lat:, lng:)が住所を返す_\n\n- [ ] 27.1 モバイルアプリフィード画面実装\n  - File: mobile/src/screens/FeedScreen.tsx, mobile/src/components/PhotoCard.tsx\n  - 写真フィードの無限スクロール、フィルタリング、検索\n  - FlatListで無限スクロール（20件/ページ）\n  - Purpose: 写真フィードUIの提供\n  - _Leverage: Task 8.3, @tanstack/react-query_\n  - _Requirements: FR-4 (AC-4.1〜AC-4.8)_\n  - _Prompt: Role: React Nativeエンジニア | Task: フィード画面を実装、位置・日付フィルタモーダル、キーワード検索バー | Restrictions: react-queryでキャッシュ管理 | Success: スムーズなスクロールとフィルタリング_\n\n- [ ] 27.2 モバイルアプリ写真詳細画面実装\n  - File: mobile/src/screens/PhotoDetailScreen.tsx, mobile/src/components/WeatherChart.tsx\n  - 写真詳細表示、気象データ表示、グラフ\n  - react-native-chart-kitで時系列グラフ\n  - Purpose: 写真詳細・気象データUIの提供\n  - _Leverage: react-native-chart-kit_\n  - _Requirements: FR-3, FR-13 (AC-3.4, AC-13.3, AC-13.4)_\n  - _Prompt: Role: React Nativeエンジニア | Task: 写真詳細画面を実装、気象データサマリー、時系列グラフ | Restrictions: データがない項目はN/A表示 | Success: 詳細画面で気象データとグラフが表示_\n\n---\n\n## フェーズ6: マップビュー（FR-5, FR-13）\n\n- [ ] 28. マップ関連API実装\n  - File: backend/app/controllers/api/v1/maps_controller.rb, backend/config/routes.rb\n  - マーカー取得、クラスタリング、ヒートマップAPI\n  - PostGISでバウンディングボックス内の写真取得、ST_ClusterDBSCANでクラスタリング\n  - Purpose: 地図表示用データの提供\n  - _Leverage: PostGIS, rgeo_\n  - _Requirements: FR-5, FR-13 (AC-5.1〜AC-5.5, AC-13.5)_\n  - _Prompt: Role: GISエンジニア | Task: MapsControllerを実装、markers、clusters、heatmapアクション | Restrictions: クラスタリングは500m以内をグループ化 | Success: マップデータが正しく取得できる_\n\n- [ ] 29. AnalysisService実装\n  - File: backend/app/services/analysis_service.rb\n  - 地域統計、虹出現傾向分析機能\n  - region_stats、heatmap_data、rainbow_trends、export_datasetメソッド\n  - Purpose: 虹出現パターン分析機能の提供\n  - _Leverage: PostGIS_\n  - _Requirements: FR-13 (AC-13.5, AC-13.6, AC-13.8)_\n  - _Prompt: Role: データエンジニア | Task: AnalysisServiceを実装 | Restrictions: 大量データはバックグラウンドジョブ | Success: 統計データとエクスポートが正しく動作_\n\n- [ ] 29.1 モバイルアプリマップ画面実装\n  - File: mobile/src/screens/MapScreen.tsx, mobile/src/components/ClusteredMap.tsx\n  - インタラクティブマップ、マーカー、クラスタリング\n  - react-native-maps、react-native-maps-supercluster使用\n  - Purpose: 地図ベースの虹目撃情報表示\n  - _Leverage: react-native-maps_\n  - _Requirements: FR-5 (AC-5.1〜AC-5.6)_\n  - _Prompt: Role: React Nativeエンジニア | Task: マップ画面を実装、カスタムマーカー、クラスタリング | Restrictions: オフライン時はキャッシュ表示 | Success: マップ操作がスムーズ_\n\n- [ ] 29.2 モバイルアプリヒートマップ・地域統計実装\n  - File: mobile/src/screens/MapScreen.tsx, mobile/src/components/RegionStatsModal.tsx\n  - ヒートマップレイヤー、地域タップで統計表示\n  - 過去の出現回数、典型的な気象条件、時間帯傾向\n  - Purpose: 虹出現分析UIの提供\n  - _Leverage: Task 29.1_\n  - _Requirements: FR-13 (AC-13.5, AC-13.6)_\n  - _Prompt: Role: React Nativeエンジニア | Task: ヒートマップレイヤー切替、地域統計モーダル | Restrictions: ヒートマップは軽量に | Success: ヒートマップと統計表示が動作_\n\n---\n\n## フェーズ7: 通知システム（FR-6, FR-7）\n\n- [ ] 30. プッシュ通知基盤構築\n  - File: backend/config/initializers/fcm.rb, backend/app/models/device_token.rb\n  - FCM（Android）、APNs（iOS）連携設定\n  - DeviceTokenモデルでデバイストークン管理\n  - Purpose: プッシュ通知送信基盤の構築\n  - _Leverage: fcm gem, rpush gem_\n  - _Requirements: FR-6_\n  - _Prompt: Role: モバイルバックエンドエンジニア | Task: FCM/APNsを設定、DeviceTokenモデル作成 | Restrictions: 通知ペイロードはOS間で統一 | Success: テスト通知が配信される_\n\n- [ ] 31. NotificationService実装\n  - File: backend/app/services/notification_service.rb\n  - 通知送信ビジネスロジックの実装\n  - send_push_notification、send_rainbow_alert、schedule_notification、list_for_userメソッド\n  - Purpose: 通知送信ビジネスロジック\n  - _Leverage: Task 30_\n  - _Requirements: FR-6, FR-7_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: NotificationServiceを実装 | Restrictions: 静寂時間中は送信スキップ | Success: 各メソッドが正しく動作_\n\n- [ ] 32. RainbowAlertJob実装\n  - File: backend/app/jobs/rainbow_alert_job.rb\n  - 虹条件検出・自動通知送信ジョブ\n  - 定期実行（15分間隔）で気象条件チェック、2時間以内の重複通知スロットリング\n  - Purpose: 虹出現通知の自動化\n  - _Leverage: Task 22, Task 31, Solid Queue_\n  - _Requirements: FR-6 (AC-6.1〜AC-6.8)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: RainbowAlertJobを実装、見る方向と推定時間を含む | Restrictions: 静寂時間中は延期 | Success: 虹条件時に正しく通知送信_\n\n- [ ] 33. 通知設定API実装\n  - File: backend/app/controllers/api/v1/notifications_controller.rb\n  - 通知設定取得・更新エンドポイント\n  - index、mark_read、settings_show、settings_updateアクション\n  - Purpose: 通知カスタマイズ機能の提供\n  - _Leverage: Task 31_\n  - _Requirements: FR-7 (AC-7.1〜AC-7.6)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: NotificationsControllerを実装 | Restrictions: 設定変更は即時反映 | Success: 通知設定が保存・取得できる_\n\n- [ ] 33.1 モバイルアプリプッシュ通知受信・設定画面\n  - File: mobile/src/services/notificationService.ts, mobile/src/screens/NotificationSettingsScreen.tsx\n  - デバイストークン登録、通知受信、設定画面\n  - 位置半径（1/5/10/25km）、静寂時間、通知タイプ別ON/OFF\n  - Purpose: プッシュ通知のモバイル側受信・設定\n  - _Leverage: expo-notifications_\n  - _Requirements: FR-6, FR-7_\n  - _Prompt: Role: React Nativeエンジニア | Task: プッシュ通知受信、設定画面を実装 | Restrictions: iOS/Android両対応 | Success: 通知受信と設定変更が動作_\n\n---\n\n## フェーズ8: ソーシャル機能（FR-8）\n\n- [ ] 34. いいね・コメントAPI実装\n  - File: backend/app/controllers/api/v1/social_controller.rb\n  - いいね追加/削除、コメント取得/投稿、報告エンドポイント\n  - いいねトグル動作、コメント500文字制限、禁止ワードフィルタ\n  - Purpose: ソーシャルインタラクションAPIの提供\n  - _Leverage: Pundit_\n  - _Requirements: FR-8 (AC-8.1〜AC-8.7)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: SocialControllerを実装 | Restrictions: 認証必須、自分のコンテンツには報告不可 | Success: 全エンドポイントが正しく動作_\n\n- [ ] 35. ソーシャル通知機能実装\n  - File: backend/app/services/notification_service.rb\n  - いいね・コメント時の通知送信\n  - send_like_notification、send_comment_notificationメソッド\n  - Purpose: ソーシャルインタラクション通知\n  - _Leverage: Task 31_\n  - _Requirements: FR-8 (AC-8.3)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: NotificationServiceにソーシャル通知メソッドを追加 | Restrictions: 自分自身へのアクションは通知しない | Success: ソーシャル通知が正しく送信_\n\n- [ ] 36. 禁止ワードフィルタ実装\n  - File: backend/app/validators/content_validator.rb, backend/config/banned_words.yml\n  - コメントの禁止ワードチェック機能\n  - 部分一致・正規表現対応\n  - Purpose: コンテンツモデレーション基盤\n  - _Leverage: ActiveModel::Validator_\n  - _Requirements: FR-8 (AC-8.6)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: ContentValidatorを実装 | Restrictions: 禁止ワードリストは管理者が編集可能に | Success: 禁止ワードを含むコメントがエラーになる_\n\n- [ ] 36.1 モバイルアプリソーシャル機能実装\n  - File: mobile/src/screens/PhotoDetailScreen.tsx, mobile/src/components/CommentList.tsx\n  - いいねボタン、コメント一覧・投稿、報告機能\n  - オプティミスティックUI更新、500文字制限\n  - Purpose: ソーシャル機能のUI提供\n  - _Leverage: Task 27.2_\n  - _Requirements: FR-8_\n  - _Prompt: Role: React Nativeエンジニア | Task: ソーシャル機能を実装 | Restrictions: オプティミスティックUI更新 | Success: いいね・コメント・報告が正しく動作_\n\n---\n\n## フェーズ9: ユーザープロフィール（FR-9）\n\n- [ ] 37. ユーザーAPI実装\n  - File: backend/app/controllers/api/v1/users_controller.rb\n  - プロフィール取得・更新、自分の写真一覧エンドポイント\n  - 統計含む：アップロード数、いいね数、コメント数\n  - Purpose: ユーザー管理APIの提供\n  - _Leverage: Pundit, Active Storage_\n  - _Requirements: FR-9 (AC-9.1〜AC-9.5)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: UsersControllerを実装 | Restrictions: 他ユーザーの更新は不可 | Success: 全エンドポイントが正しく動作_\n\n- [ ] 38. ユーザーSerializer実装\n  - File: backend/app/serializers/user_serializer.rb\n  - プロフィールJSONシリアライザの実装\n  - id, display_name, profile_image_url, stats\n  - Purpose: 一貫したユーザーAPIレスポンス\n  - _Leverage: Alba gem_\n  - _Requirements: FR-9_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: UserSerializerを実装 | Restrictions: メールアドレスは非公開 | Success: プロフィールが正しい形式_\n\n- [ ] 38.1 モバイルアプリプロフィール画面実装\n  - File: mobile/src/screens/ProfileScreen.tsx, mobile/src/screens/EditProfileScreen.tsx\n  - プロフィール表示・編集、自分の写真グリッド\n  - 写真タップで詳細、長押しで削除確認\n  - Purpose: ユーザープロフィールUIの提供\n  - _Leverage: Task 8.3_\n  - _Requirements: FR-9_\n  - _Prompt: Role: React Nativeエンジニア | Task: プロフィール画面を実装 | Restrictions: 削除は確認必須 | Success: プロフィール管理が正しく動作_\n\n---\n\n## フェーズ10: 管理者機能（FR-10）\n\n- [ ] 39. 管理者API実装\n  - File: backend/app/controllers/api/v1/admin/reports_controller.rb\n  - 報告一覧、報告処理、ユーザー管理エンドポイント\n  - 報告処理（approve/hide/delete）、違反3件以上のユーザーフラグ\n  - Purpose: コンテンツモデレーション機能の提供\n  - _Leverage: Pundit_\n  - _Requirements: FR-10 (AC-10.1〜AC-10.4)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: Admin::ReportsControllerを実装 | Restrictions: 管理者ロールのみアクセス可能 | Success: 管理者APIが正しく動作_\n\n- [ ] 40. ModerationService実装\n  - File: backend/app/services/moderation_service.rb\n  - コンテンツ非表示/削除、所有者通知、ユーザーフラグ\n  - hide_content、delete_content、違反カウント更新\n  - Purpose: モデレーションビジネスロジック\n  - _Leverage: Task 31_\n  - _Requirements: FR-10_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: ModerationServiceを実装 | Restrictions: 削除は不可逆 | Success: モデレーション処理が正しく動作_\n\n- [ ] 41. 管理者機能RSpecテスト\n  - File: backend/spec/requests/api/v1/admin/, backend/spec/services/moderation_service_spec.rb\n  - 管理者API・サービスのテスト\n  - 権限チェック（一般ユーザーは403）、報告処理、通知送信\n  - Purpose: 管理者機能の品質保証\n  - _Leverage: RSpec, FactoryBot_\n  - _Requirements: FR-10_\n  - _Prompt: Role: QAエンジニア | Task: 管理者API、ModerationServiceのテスト | Restrictions: カバレッジ80%以上 | Success: 全テストが通過_\n\n---\n\n## フェーズ11: オンボーディング（FR-11）\n\n- [ ] 42. オンボーディングフロー実装\n  - File: mobile/src/screens/OnboardingScreen.tsx\n  - 初回起動時のガイド画面実装\n  - 4-5画面（写真撮影、ギャラリー、マップ、通知）、スキップボタン\n  - Purpose: 新規ユーザーへのアプリ紹介\n  - _Leverage: @react-native-async-storage/async-storage_\n  - _Requirements: FR-11 (AC-11.1〜AC-11.4)_\n  - _Prompt: Role: React Nativeエンジニア | Task: オンボーディング画面を実装、完了フラグをAsync Storageに保存 | Restrictions: 2分以内に完了できる内容 | Success: オンボーディングフローが正しく動作_\n\n---\n\n## フェーズ12: データエクスポート・削除（FR-12）\n\n- [ ] 43. DataExportJob実装\n  - File: backend/app/jobs/data_export_job.rb\n  - ユーザーデータZIPアーカイブ生成ジョブ\n  - 写真、コメント、プロフィールをZIP化、S3に一時保存（48時間有効）\n  - Purpose: GDPRデータエクスポート対応\n  - _Leverage: Solid Queue, Active Storage_\n  - _Requirements: FR-12 (AC-12.1)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: DataExportJobを実装、ダウンロードURLをメール通知 | Restrictions: 48時間以内に完了 | Success: データエクスポートが正しく動作_\n\n- [ ] 44. AccountDeletionService実装\n  - File: backend/app/services/account_deletion_service.rb\n  - アカウント削除サービス（14日間猶予期間）\n  - 削除要求、猶予期間中キャンセル、全データ削除\n  - Purpose: GDPRアカウント削除対応\n  - _Leverage: Solid Queue_\n  - _Requirements: FR-12 (AC-12.2〜AC-12.4)_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: AccountDeletionServiceを実装、コメント等は匿名化 | Restrictions: 削除は不可逆 | Success: アカウント削除フローが正しく動作_\n\n- [ ] 45. AccountDeletionJob実装\n  - File: backend/app/jobs/account_deletion_job.rb\n  - アカウント削除実行ジョブ\n  - 14日後に実行されるようスケジュール\n  - Purpose: 削除処理の自動実行\n  - _Leverage: Task 44, Solid Queue_\n  - _Requirements: FR-12_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: AccountDeletionJobを実装 | Restrictions: 削除前にキャンセルされていないか確認 | Success: ジョブが正しく実行される_\n\n- [ ] 46. データ管理API・画面実装\n  - File: backend/app/controllers/api/v1/users_controller.rb, mobile/src/screens/SettingsScreen.tsx\n  - データエクスポート・削除要求エンドポイントと画面\n  - エクスポート要求ボタン、アカウント削除ボタン（2段階確認）\n  - Purpose: プライバシー管理UIの提供\n  - _Leverage: Task 43, Task 44_\n  - _Requirements: FR-12_\n  - _Prompt: Role: フルスタックエンジニア | Task: データ管理API・画面を実装 | Restrictions: 削除は厳重な確認必須 | Success: データ管理機能が正しく動作_\n\n---\n\n## フェーズ13: 国際化・アクセシビリティ\n\n- [ ] 47. モバイルアプリ多言語対応\n  - File: mobile/src/i18n/locales/ja.json, mobile/src/i18n/locales/en.json\n  - 日本語・英語の翻訳ファイルと言語切替機能\n  - デバイス言語設定に応じて自動切替、手動切替オプション\n  - Purpose: 多言語サポート\n  - _Leverage: i18next, react-i18next_\n  - _Requirements: NFR-5_\n  - _Prompt: Role: React Nativeエンジニア | Task: i18nextで多言語対応を実装 | Restrictions: すべてのユーザー向けテキストを翻訳 | Success: 日本語/英語切替が正しく動作_\n\n- [ ] 48. バックエンドAPI多言語対応\n  - File: backend/config/locales/ja.yml, backend/config/locales/en.yml\n  - APIエラーメッセージ、メール文面の多言語対応\n  - Accept-Languageヘッダーで言語判定\n  - Purpose: APIの多言語対応\n  - _Leverage: rails-i18n gem_\n  - _Requirements: NFR-5_\n  - _Prompt: Role: Ruby on Railsエンジニア | Task: rails-i18nで多言語対応を実装 | Restrictions: デフォルトは日本語 | Success: エラーメッセージが言語に応じて切り替わる_\n\n- [ ] 49. アクセシビリティ対応\n  - File: mobile/src/components/\n  - WCAG 2.1 AA準拠、スクリーンリーダー対応\n  - accessibilityLabel、タッチターゲット44x44pt以上、コントラスト比4.5:1以上\n  - Purpose: アクセシビリティ向上\n  - _Leverage: React Native Accessibility API_\n  - _Requirements: NFR-5_\n  - _Prompt: Role: アクセシビリティエンジニア | Task: 全コンポーネントにアクセシビリティ属性を設定 | Restrictions: WCAG 2.1 AA準拠 | Success: スクリーンリーダーで操作可能_\n\n---\n\n## フェーズ14: テスト・品質保証\n\n- [ ] 50. バックエンド統合テスト強化\n  - File: backend/spec/\n  - 全エンドポイントの統合テスト、カバレッジ測定\n  - SimpleCovでカバレッジ測定、Brakemanでセキュリティスキャン\n  - Purpose: バックエンドの品質保証\n  - _Leverage: RSpec, SimpleCov, Brakeman_\n  - _Requirements: 全FR_\n  - _Prompt: Role: QAエンジニア | Task: 不足テスト追加、カバレッジ測定、セキュリティスキャン | Restrictions: カバレッジ80%以上 | Success: カバレッジ目標達成、セキュリティ問題なし_\n\n- [ ] 51. モバイルアプリE2Eテスト\n  - File: mobile/e2e/\n  - Detoxによる主要ユーザーフローテスト\n  - 登録→撮影→アップロード→閲覧→いいね・コメント\n  - Purpose: モバイルアプリのE2E品質保証\n  - _Leverage: Detox_\n  - _Requirements: 全FR_\n  - _Prompt: Role: QA自動化エンジニア | Task: DetoxでE2Eテストを実装 | Restrictions: CI/CDで自動実行可能 | Success: E2Eテストが安定して通過_\n\n- [ ] 52. パフォーマンステスト\n  - File: k6/\n  - API応答時間、同時接続テスト\n  - p95応答時間200ms以内、1000同時ユーザー対応を検証\n  - Purpose: パフォーマンス目標の検証\n  - _Leverage: k6_\n  - _Requirements: NFR-2_\n  - _Prompt: Role: パフォーマンスエンジニア | Task: k6でAPIパフォーマンステストを実施 | Restrictions: 本番相当環境でテスト | Success: パフォーマンス目標を達成_\n\n- [ ] 53. セキュリティテスト\n  - File: なし（ツール実行）\n  - 脆弱性スキャン、ペネトレーションテスト\n  - Brakeman、bundler-audit、OWASP ZAP\n  - Purpose: セキュリティの確保\n  - _Leverage: Brakeman, bundler-audit_\n  - _Requirements: NFR-3_\n  - _Prompt: Role: セキュリティエンジニア | Task: 脆弱性スキャン実施、発見された問題を修正 | Restrictions: 重大な脆弱性は即修正 | Success: セキュリティスキャンで重大な問題なし_\n\n---\n\n## フェーズ15: デプロイ・運用準備\n\n- [ ] 54. Docker化\n  - File: backend/Dockerfile, backend/.dockerignore\n  - Rails APIのDockerfile作成\n  - マルチステージビルド、イメージサイズ最小化\n  - Purpose: コンテナ化\n  - _Leverage: なし_\n  - _Requirements: NFR-4_\n  - _Prompt: Role: DevOpsエンジニア | Task: Rails 8用のDockerfileを作成 | Restrictions: イメージサイズ最小化 | Success: docker buildが成功、コンテナでアプリ起動_\n\n- [ ] 55. Kamal 2デプロイ設定\n  - File: backend/config/deploy.yml\n  - Kamal 2によるデプロイ設定\n  - サーバー設定、環境変数、ヘルスチェック、SSL/TLS設定\n  - Purpose: 本番環境の構築\n  - _Leverage: Task 54_\n  - _Requirements: NFR-4_\n  - _Prompt: Role: DevOpsエンジニア | Task: Kamal 2でデプロイ設定 | Restrictions: 99.5%アップタイム目標 | Success: kamal deployでデプロイ成功_\n\n- [ ] 56. モニタリング・ロギング設定\n  - File: backend/config/initializers/sentry.rb\n  - ログ収集、エラートラッキング、アラート設定\n  - Sentry、Datadog/New Relic\n  - Purpose: 運用監視基盤の構築\n  - _Leverage: Sentry_\n  - _Requirements: NFR-8_\n  - _Prompt: Role: SREエンジニア | Task: Sentryでエラートラッキング、メトリクス収集を設定 | Restrictions: 個人情報はマスク | Success: 監視ダッシュボードが動作_\n\n- [ ] 57. CI/CDパイプライン構築\n  - File: .github/workflows/ci.yml, .github/workflows/deploy.yml\n  - GitHub Actionsによる自動テスト・デプロイ\n  - PRでテスト自動実行、mainマージで自動デプロイ\n  - Purpose: 継続的インテグレーション/デプロイ\n  - _Leverage: GitHub Actions_\n  - _Requirements: 全FR_\n  - _Prompt: Role: DevOpsエンジニア | Task: GitHub ActionsでCI/CDパイプラインを構築 | Restrictions: テスト通過時のみデプロイ | Success: CI/CDパイプラインが正しく動作_\n\n- [ ] 58. ドキュメント作成\n  - File: docs/api.md, docs/deployment.md, docs/operations.md\n  - API仕様書、デプロイ手順、運用マニュアル\n  - RSwagでOpenAPI仕様書自動生成\n  - Purpose: リリース準備の完了\n  - _Leverage: RSwag_\n  - _Requirements: 全FR_\n  - _Prompt: Role: テクニカルライター | Task: ドキュメントを作成 | Restrictions: 日本語で作成 | Success: ドキュメントが完備_\n\n---\n\n## 備考\n\n### 開発環境要件\n- Ruby 3.2以上\n- Rails 8.0以上\n- PostgreSQL 14以上 + PostGIS 3.0以上\n- Node.js 18以上\n- Expo SDK 50以上\n\n### 外部サービスアカウント（開発時に必要）\n- AWS S3（画像ストレージ）\n- OpenWeatherMap API（気象データ）\n- RainViewer API（雨雲レーダー）\n- Firebase（プッシュ通知）\n- SendGrid（メール送信）\n- Google Maps / Mapbox（地図）\n",
  "fileStats": {
    "size": 45471,
    "lines": 784,
    "lastModified": "2026-01-20T19:27:30.422Z"
  },
  "comments": []
}